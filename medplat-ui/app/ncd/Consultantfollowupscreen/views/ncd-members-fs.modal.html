<style>
    .outer-tabset>.nav.nav-tabs {
        background: #ffffff;
        border: 1px solid #dfdfdf;
        padding-bottom: 1px;
    }

    .table-heading {
        background-color: rgb(241, 241, 241);
        position: relative;
        top: -1px;
    }
</style>
<script>
    $(".header-fixed").tableHeadFixer();
</script>
<!-- all member listing tabs -->
<div class="container-fluid">
    <div class="row">
        <div class="col-12 mb-15">
            <button class="btn btn-primary pull-right" ng-click="ncdfsl.downloadExcel()">Download Excel</button>
            <div class="cst-tab">
                <uib-tabset active='ncdfsl.selectedTab'>
                    <!-- member list tab -->
                    <uib-tab heading="Patient List" index=0 ng-click="ncdfsl.etrieveMemberList('consultant',true)">
                        <div class="cst-table table-responsive table-set-height" id="member-scroll">
                            <table aria-describedby="member list"
                                class="table table-sm  header-fixed table-striped table-bordered header-fixed vertical-middle">
                                <thead class="cst-thead">
                                    <tr>
                                        <th id="patient-name" class="table-heading">Patient Name</th>
                                        <th id="age" class="table-heading">Age</th>
                                        <th id="gender">Gender</th>
                                        <th id="Village" class="table-heading">Village</th>
                                        <th id="subCenter" class="table-heading">Sub Center</th>
                                        <th id="status">Status</th>
                                        <th id="diseaseSummary">Disease(s)</th>
                                        <th id="actions" class="table-heading">Actions</th>
                                    </tr>
                                </thead>
                                <tbody infinite-scroll-distance="0"
                                    infinite-scroll='ncdfsl.retrieveMemberList("consultant",false)'
                                    infinite-scroll-container='"#member-scroll"'
                                    infinite-scroll-immediate-check="false">
                                    <tr ng-repeat="member in ncdfsl.membersList">
                                        <td ng-bind="member.name | emptylabel"></td>
                                        <td ng-bind="member.age | emptylabel"></td>
                                        <td ng-bind="member.gender | emptylabel"></td>
                                        <td ng-bind="member.village | emptylabel"></td>
                                        <td ng-bind="member.subCenter | emptylabel"></td>
                                        <td ng-bind-html="member.status| titlecase |emptylabel"></td>
                                        <td ng-bind-html="member.diseaseSummary| titlecase |emptylabel"></td>
                                        <td class="action-cell">
                                            <!-- <button ui-sref="techo.ncd.followupscreen({id:member.id,type:ncdfsl.type})"
                                                class="btn btn-primary">Examine</button> -->
                                            <button
                                                ui-sref="techo.ncd.memberdetails.initialassessment({id:member.id,type:'CONSULTANT'})"
                                                class="btn btn-primary">Examine</button>
                                        </td>
                                    </tr>
                                    <tr ng-if="!ncdfsl.membersList || ncdfsl.membersList.length==0">
                                        <td colspan="8">No Members Referred </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </uib-tab>

                </uib-tabset>
            </div>
        </div>
    </div>
</div>
<!-- search tab -->
<!-- <div class="large-div filter-div " ng-if="ncdfsl.selectedTab===0">
    <span style="left:-66px" class="filter-toggle" ng-click="ncdfsl.toggleFilter()">Search</span>
    <div class="row">
        <div class="col-12">
            <h5 class="filter-div-title">Search Members</h5>
        </div>
    </div>
    <div class="filter-div-body">
        <form name="ncdfsl.searchForm" novalidate>
            <div class="row">
                <div class="col-12">
                    <div class="form-group">
                        <label>Search By: </label>
                        <label class="control control-radio"> Member ID
                            <input type="radio" name="search" icheck ng-model="ncdfsl.search.searchBy"
                                value="memberId" ng-change="ncdfsl.search.searchString = null;" />
                            <div class="control_indicator"></div>
                        </label>
                        <label class="control control-radio"> Family ID
                            <input type="radio" name="search" icheck ng-model="ncdfsl.search.searchBy"
                                value="familyId" ng-change="ncdfsl.search.searchString = null;" />
                            <div class="control_indicator"></div>
                        </label>
                        <label class="control control-radio"> Mobile Number
                            <input type="radio" name="search" icheck ng-model="ncdfsl.search.searchBy"
                                value="mobileNumber" ng-change="ncdfsl.search.searchString = null;" />
                            <div class="control_indicator"></div>
                        </label>
                        <br>
                        <label style="margin-left: 9%" class="control control-radio"> Organization Unit
                            <input type="radio" name="search" icheck ng-model="ncdfsl.search.searchBy" value="orgUnit"
                                ng-change="ncdfsl.search.searchString = null; ncdfsl.selectedLocation = null;" />
                            <div class="control_indicator"></div>
                        </label>
                        <label class="control control-radio"> Village Name
                            <input type="radio" name="search" icheck ng-model="ncdfsl.search.searchBy"
                                ng-change="ncdfsl.resetSearchString()" value="villageName"
                                ng-change="ncdfsl.search.searchString = null; ncdfsl.selectedLocationId = null;" />
                            <div class="control_indicator"></div>
                        </label>
                        <label class="control control-radio" style="min-width: auto;"> Name
                            <input type="radio" name="search" icheck ng-model="ncdfsl.search.searchBy" value="name"
                                ng-change="ncdfsl.search.searchString = null; ncdfsl.selectedLocation = null; ncdfsl.search.locationToSearchByName = null;" />
                            <div class="control_indicator"></div>
                        </label>
                        <label class="control control-radio"> Disease
                            <input type="radio" name="search" icheck ng-model="ncdfsl.search.searchBy" value="disease"
                                ng-change="ncdfsl.search.searchString = 'All';" />
                            <div class="control_indicator"></div>
                        </label>
                        <div class="form-group" ng-if="ncdfsl.search.searchBy === 'disease'">
                            <label for="disease" control-label>
                                Select Disease
                            </label>
                            <select class="form-control cst-form-control" form-control
                                ng-model="ncdfsl.search.searchString" name="disease" id="disease">
                                <option value="All" selected>All</option>
                                <option value="HT">Hypertension</option>
                                <option value="D">Diabetes</option>
                                <option value="O">Oral</option>
                                <option value="B">Breast</option>
                                <option value="C">Cervical</option>
                            </select>
                        </div>
                        <div class="form-group" ng-if="ncdfsl.search.searchBy === 'name'">
                            <location-directive template-type="'twoPart'"
                                ng-model="ncdfsl.search.locationToSearchByName"
                                selected-location="ncdfsl.selectedLocation" required-upto-level="3"
                                template-type="'inline'" fetch-according-to-user-aoi="false">
                            </location-directive>
                        </div>
                        <div class="form-group" ng-if="ncdfsl.search.searchBy === 'orgUnit'">
                            <location-directive template-type="'twoPart'" ng-model="ncdfsl.search.searchString"
                                selected-location="ncdfsl.selectedLocation" required-upto-level="3"
                                template-type="'inline'" fetch-according-to-user-aoi="false"> </location-directive>
                        </div>
                        <div class="form-group" ng-if="ncdfsl.search.searchBy === 'villageName'">
                            <label>Search Village</label>
                            <selectize class="form-control cst-form-control disabled-input"
                                ng-model='ncdfsl.selectedLocationId' config='ncdfsl.locationSelectizeWpd'>
                                <option value=''>Select</option>
                            </selectize>
                        </div>
                        <div style="margin-top: 10px">
                            <validate for="searchString" pattern-msg='Enter Valid Number'
                                ng-if="ncdfsl.search.searchBy === 'mobileNumber'">
                                <input type="number" name="searchString" form-control
                                    ng-model="ncdfsl.search.searchString" placeholder='Enter contact number'
                                    class="form-control" maxlength="10" minlength="10" required />
                            </validate>
                            <label style="margin-top:2%" class="form-group control control-checkbox"
                                ng-if="ncdfsl.search.searchBy === 'mobileNumber'">
                                <input ng-model="ncdfsl.search.familyMobileNumber" type="checkbox">
                                <div class="control_indicator checkbox-success"></div>
                                Search mobile number in family
                            </label>
                        </div>
                        <div style="margin-top: 10px">
                            <validate for="searchString" pattern-msg='Enter Valid details'
                                ng-if="ncdfsl.search.searchBy === 'memberId' || ncdfsl.search.searchBy === 'familyId'">
                                <input type="text" name="searchString" form-control
                                    ng-model="ncdfsl.search.searchString"
                                    placeholder="Enter {{ncdfsl.search.searchBy}}" class="form-control" required />
                            </validate>
                        </div>
                        <div style="margin-top: 10px">
                            <validate for="searchString" pattern-msg='Enter Valid details'
                                ng-if="ncdfsl.search.searchBy === 'name'">
                                <input style="width:30%;float:left;margin:4px" type="text" name="firstName" form-control
                                    ng-model="ncdfsl.search.firstName" placeholder="Enter first Name"
                                    class="form-control" required />
                            </validate>
                            <validate for="searchString" pattern-msg='Enter Valid details'
                                ng-if="ncdfsl.search.searchBy === 'name'">
                                <input style="width:30%;float:left;margin:4px" type="text" name="middleName"
                                    form-control ng-model="ncdfsl.search.middleName" placeholder="Enter middle Name"
                                    class="form-control" />
                            </validate>
                            <validate for="searchString" pattern-msg='Enter Valid details'
                                ng-if="ncdfsl.search.searchBy === 'name'">
                                <input style="width:30%;float:left;margin:4px" type="text" name="lastName" form-control
                                    ng-model="ncdfsl.search.lastName" placeholder="Enter last Name"
                                    class="form-control" required />
                            </validate>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <hr>
                    <div class="form-group text-right">
                        <button class="btn btn-secondary close-filter" ng-click="ncdfsl.toggleFilter()">Close</button>
                        <button type="submit" class="btn btn-primary search-filter"
                            ng-click="ncdfsl.searchMembers(false)">Search</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div> -->
<div class="cst-backdrop"></div>